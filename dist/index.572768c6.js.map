{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-f750483b491842e4.js","node_modules/@parcel/runtime-js/lib/runtime-e857be53ce2e6590.js","src/util/querySelector.js","src/util/createDomeElem.js","src/util/localStorage.js","src/util/debounce.js","src/router.js","src/components/DocumentList/DocumentList.js","src/components/Editor/Editor.js","src/components/DocumentEdit/DocumentEdit.js","src/components/DocumentRoot/DocumentRoot.js","src/components/DocumentAdd/DocumentAdd.js","src/components/NotFound/NotFound.js","src/pages/SideBar/SideBar.js","src/pages/DocumentPage/DocumentPage.js","node_modules/@parcel/runtime-js/lib/runtime-73d77e3e478de56e.js","src/api/api.js","src/api/documentApi.js","src/App.js","src/Main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bB9dn\\\":\\\"index.572768c6.js\\\",\\\"erjYX\\\":\\\"document.62bed16a.png\\\",\\\"97kzZ\\\":\\\"greeting.08a821e6.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"erjYX\")).toString();","export const $ = ({selector}) => document.querySelector(selector);\n","export const createDOMElement = ({ tagName, attrs = null }) => {\n  const element = document.createElement(tagName);\n  attrs &&\n    attrs.forEach(({ attr, value }) => {\n      attr !== 'textContent'\n        ? element.setAttribute(attr, value)\n        : (element.textContent = value);\n    });\n  return element;\n};\n","const storage = window.localStorage;\n\nexport const getDocument = (key) => {\n    try {\n        const storedValue = storage.getItem(key);\n\n        return storedValue ? JSON.parse(storedValue) : { title: '', content: '' };\n    } catch (e) {\n        alert(e.message);\n        console.error(e.message);\n    }\n}\n\nexport const setDocument = (key, value) => {\n    storage.setItem(key, JSON.stringify(value));\n}\n\nexport const removeDocument = (key) => {\n    storage.removeItem(key);\n}\n","export const debounce = (func, wait) => {\n    let timerId = null;\n    return (...args) => {\n        if (timerId) clearTimeout(timerId);\n\n        timerId = setTimeout(() => {\n            func(...args);\n        }, wait);\n    }\n}\n","const ROUTE_CHANGE_EVENT_NAME = 'routeChange';\n\nexport const initRouter = ({ router }) => {\n    window.addEventListener(ROUTE_CHANGE_EVENT_NAME, ({ detail }) => {\n        const { nextUrl } = detail;\n        if (nextUrl) {\n            history.pushState(null, null, nextUrl);\n            router();\n        }\n    });\n}\n\nexport const push = ({ nextUrl }) => {\n    window.dispatchEvent(new CustomEvent(ROUTE_CHANGE_EVENT_NAME, {\n        detail: { nextUrl }\n    }));\n}\n","import document from '../../public/images/document.png';\nimport { createDOMElement } from '../../util/index.js';\nimport { push } from '../../router.js';\n\nexport function DocumentList({\n\t$target,\n\tonClickDocument,\n\tonAddDocument,\n\tonDeleteDocument,\n}) {\n\tlet state = [];\n\tconst $documentList = createDOMElement({\n\t\ttagName: 'div',\n\t\tattrs: [{ attr: 'class', value: 'document-list' }],\n\t});\n\n\tconst makeDocumentTree = ({ id, title, documents, margin }) => {\n\t\treturn `\n            <details id=\"detail-${id}\" style=\"margin-left:${margin}px\" ${\n\t\t\tstate.includes(String(id)) && 'open'\n\t\t}>\n                <summary class=\"toggle\" data-index=\"${id}\">\n                <img class=\"doc-img\" src=${document} alt=\"doc-img\"/>\n                <span>${title ? title : '제목 없음'}</span>\n                <span class=\"option-container\">\n                    <input type=\"button\" class=\"option-btn remove\" />\n                    <input type=\"button\" class=\"option-btn add\" />\n                </span>\n                </summary>\n                ${\n\t\t\t\t\t\t\t\t\tdocuments.length\n\t\t\t\t\t\t\t\t\t\t? documents\n\t\t\t\t\t\t\t\t\t\t\t\t.map(({ id, title, documents }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tmakeDocumentTree({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocuments,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: margin + 10,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t.join('')\n\t\t\t\t\t\t\t\t\t\t: `<p style=\"margin-left:${\n\t\t\t\t\t\t\t\t\t\t\t\tmargin + 5\n\t\t\t\t\t\t\t\t\t\t  }px\">하위 페이지가 없습니다.</p>`\n\t\t\t\t\t\t\t\t}\n            </details>\n        `;\n\t};\n\n\tconst generateHTML = ({ document }) => {\n\t\treturn `\n            <h1>Documents</h1>\n            ${document\n\t\t\t\t\t\t\t.map(({ id, title, documents }) => {\n\t\t\t\t\t\t\t\tlet margin = 0;\n\t\t\t\t\t\t\t\treturn makeDocumentTree({ id, title, documents, margin });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.join('')}\n        `;\n\t};\n\n\tconst registerEvents = () => {\n\t\t$documentList.addEventListener('click', async e => {\n\t\t\tconst { target } = e;\n\t\t\tconst tagName = target.tagName;\n\t\t\tconst summary = target.closest('summary');\n\n\t\t\tif (tagName === 'H1') {\n\t\t\t\tpush({ nextUrl: '/' });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (summary && tagName !== 'INPUT') {\n\t\t\t\tconst { index } = summary.dataset;\n\t\t\t\tpush({ nextUrl: `/documents/${index}` });\n\n\t\t\t\tawait onClickDocument({ docId: index });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (tagName === 'INPUT') {\n\t\t\t\tconst { classList } = target;\n\t\t\t\tconst { index } = summary.dataset;\n\n\t\t\t\tif (classList.contains('remove')) {\n\t\t\t\t\tif (confirm('삭제하시겠습니까?')) {\n\t\t\t\t\t\tawait onDeleteDocument({ docId: index });\n\n\t\t\t\t\t\tconst rootParent = summary.closest('details').parentNode?.id;\n\n\t\t\t\t\t\talert('삭제되었습니다.');\n\n\t\t\t\t\t\tif (rootParent) {\n\t\t\t\t\t\t\tconst routePath = rootParent.split('-').at(-1);\n\t\t\t\t\t\t\tpush({ nextUrl: `/documents/${routePath}` });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpush({ nextUrl: '/' });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (classList.contains('add')) {\n\t\t\t\t\tawait onAddDocument({ docId: index });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.render = ({ document }) => {\n\t\t$documentList.innerHTML = generateHTML({ document });\n\t\t$target.appendChild($documentList);\n\t};\n\n\tthis.setState = ({ nextState, openState }) => {\n\t\tstate = [...openState];\n\t\t$documentList.innerHTML = generateHTML({ document: nextState });\n\t};\n\n\tregisterEvents();\n}\n","import document from '../../public/images/document.png';\nimport { $ } from '../../util/index.js';\nimport { push } from '../../router.js';\n\nexport function Editor({\n\t$target,\n\tcompareStateWithStoredState,\n\tstoreAtStorageWhileInput,\n\tonEditDocument,\n}) {\n\tlet isRendered = false;\n\tlet state = { title: '', content: '' };\n\n\tconst generateHTML = () => {\n\t\treturn `\n            <input type=\"text\" name=\"title\" class=\"document-edit-input\" placeholder=\"제목 없음\" autofocus />\n            <textarea class=\"document-edit-textarea\" name=\"content\" placeholder=\"내용 없음\"></textarea>\n            <div class=\"sub-document\"></div>\n        `;\n\t};\n\n\tconst registerInputEvent = () => {\n\t\t$target.addEventListener('input', async e => {\n\t\t\tstate = {\n\t\t\t\t...state,\n\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t\tupdatedAt: new Date(),\n\t\t\t};\n\t\t\tawait storeAtStorageWhileInput({ state });\n\t\t\tawait onEditDocument({ docId: state.id, content: state });\n\t\t});\n\n\t\t$target.addEventListener('click', ({ target }) => {\n\t\t\tconst { tagName } = target;\n\n\t\t\tif (tagName === 'BUTTON') {\n\t\t\t\tconst id = target.dataset.index;\n\t\t\t\tpush({ nextUrl: `/documents/${id}` });\n\t\t\t}\n\t\t});\n\t};\n\n\tconst refelectDocumentValue = async ({ nextState }) => {\n\t\tif (!isRendered) {\n\t\t\t$target.innerHTML = generateHTML();\n\t\t\tisRendered = true;\n\t\t}\n\n\t\tconst $title = $({ selector: '.document-edit-input' });\n\t\tconst $content = $({ selector: '.document-edit-textarea' });\n\t\tconst $subDocument = $({ selector: '.sub-document' });\n\n\t\tstate = await compareStateWithStoredState({\n\t\t\tnextState,\n\t\t\tstate,\n\t\t});\n\n\t\tconst { title, content, documents } = state;\n\n\t\t$title.value = title;\n\t\t$content.value = content ? content : '';\n\t\t$subDocument.innerHTML = documents\n\t\t\t.map(({ id, title }) => {\n\t\t\t\treturn `\n            <button class=\"sub-document-item\" data-index=\"${id}\">\n                <img class=\"doc-img\" src=${document} alt=\"doc-img\"/>\n                ${title ? title : '제목없음'}\n            </button>`;\n\t\t\t})\n\t\t\t.join('');\n\t};\n\n\tthis.render = ({ state }) => {\n\t\t$target.innerHTML = generateHTML();\n\t\trefelectDocumentValue({ nextState: state });\n\t};\n\n\tregisterInputEvent();\n}\n","import { Editor } from \"../Editor/Editor.js\";\nimport { getDocument, setDocument, removeDocument } from \"../../util/index.js\";\nimport { debounce } from \"../../util/index.js\";\n\nexport function DocumentEdit({ $target, onEditDocument }) {\n\n    const compareStateWithStoredState = async ({ nextState, state }) => {\n\n        const { id } = nextState;\n        const key = `document-${id}`;\n\n        const storedState = getDocument(key);\n\n        if (storedState &&\n            storedState.updatedAt > nextState.updatedAt &&\n            confirm('이미 저장된 내용이 있습니다. 저장하시겠습니까?')\n        ) {\n            const { id, title, content } = storedState;\n\n            await onEditDocument({ docId: id, content: { title, content } });\n\n            removeDocument(key);\n\n            return { ...state, ...storedState };\n        }\n\n        return {...state, ...nextState };\n    }\n\n    const storeAtStorageWhileInput = ({ state }) => {\n        const { id } = state;\n        const key = `document-${id}`;\n\n        setDocument(key, state);\n    }\n\n    const editor = new Editor({\n        $target,\n        compareStateWithStoredState,\n        storeAtStorageWhileInput: debounce(storeAtStorageWhileInput, 800),\n        onEditDocument: debounce(onEditDocument, 1000),\n    });\n\n    this.render = ({ state }) => {\n        editor.render({ state });\n    }\n}\n","import documentImg from '../../public/images/greeting.png';\n\nexport function DocumentRoot({ $target }) {\n\tconst generateHTML = () => {\n\t\treturn `<img class=\"greeting-img\" src=${documentImg} alt=\"greeting-img\"/>`;\n\t};\n\n\tthis.render = () => {\n\t\t$target.innerHTML = generateHTML();\n\t};\n}\n","import { createDOMElement } from '../../util/createDomeElem.js';\n\nexport function DocumentAdd({ $target, onAddDocument }) {\n    const $documentAdd = createDOMElement({\n        tagName: 'button',\n        attrs: [\n            { attr: 'class', value: 'document-add-btn' },\n            { attr: 'textContent', value: '+ 새 페이지' }]\n    });\n\n    const removeEventListener = () => {\n        $documentAdd.addEventListener('click', async () => {\n            await onAddDocument({ docId: null });\n        });\n    }\n\n    this.render = () => {\n        $target.appendChild($documentAdd);\n    }\n\n    removeEventListener();\n}\n","export function NotFound({ $target }) {\n\n    const generateHTML = () => `<img class=\"not-found-img\" src=\"https://i.imgur.com/EQJG7Qb.png\" alt=\"Not Found\" />`\n\n    this.render = () => {\n        $target.innerHTML = generateHTML();\n    }\n}\n","import { DocumentList, DocumentAdd } from '../../components/index.js';\nimport { createDOMElement } from '../../util/createDomeElem.js';\n\nexport function SideBar({\n    $target,\n    documents,\n    onClickDocument,\n    onAddDocument,\n    onDeleteDocument\n}) {\n    let state = documents;\n    const $sideBar = createDOMElement({ tagName: 'aside' });\n    const documentList = new DocumentList({\n        $target: $sideBar,\n        onClickDocument,\n        onAddDocument,\n        onDeleteDocument\n    });\n    const documentAdd = new DocumentAdd({\n        $target: $sideBar,\n        onAddDocument\n    });\n\n    this.render = () => {\n        $target.appendChild($sideBar);\n        documentList.render({ document: state });\n        documentAdd.render();\n    }\n\n    this.setState = ({ nextState, openState }) => { \n        state = nextState;\n        documentList.setState({ nextState: state, openState });\n    }\n}\n","import { DocumentEdit, DocumentRoot, NotFound } from \"../../components/index.js\";\nimport { initRouter } from \"../../router.js\";\nimport { createDOMElement } from \"../../util/createDomeElem.js\";\n\nexport function DocumentPage({\n    $target,\n    onGetOneDocument,\n    onEditDocument,\n}) {\n    const $documentPage = createDOMElement({ tagName: 'section' });\n    const documentRoot = new DocumentRoot({ $target: $documentPage });\n    const documentEdit = new DocumentEdit({\n        $target: $documentPage,\n        onEditDocument\n    });\n    const notFound = new NotFound({ $target: $documentPage });\n\n    const router = async () => {\n        const { pathname } = window.location;\n\n        if (pathname === \"/\") {\n            documentRoot.render();\n            return;\n        }\n\n        if (pathname.includes(\"/documents/\")) {\n            const documentId = pathname.split('/').at(-1);\n            const document = await onGetOneDocument({ docId: documentId });\n\n            if (document) {\n                \n                documentEdit.render({ state: document });\n                return;\n            }\n\n            notFound.render();\n            return;\n        }\n\n        notFound.render();\n    }\n\n    this.render = () => {\n        $target.appendChild($documentPage);\n        router();\n        initRouter({ router: () => router() });\n    }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"97kzZ\")).toString();","const API_ROOT = ({ path }) => `https://kdt-frontend.programmers.co.kr/documents${path}`;\n\nconst returnOptions = ({ method, content }) => {\n    return {\n        method,\n        headers: {\n            'x-username': 'yeummy-sk',\n            [method === 'POST' || method === 'PUT' ? 'Content-Type' : 'Accept']: 'application/json',\n        },\n        [method === 'POST' || method === 'PUT'  ? 'body' : 'params']: JSON.stringify(content),\n    };\n}\n\nconst useFetch = async ({ path, method, content = '' }) => {\n\n    try {\n        const options = returnOptions({ method, content });\n        const response = await fetch(API_ROOT({ path }), options);\n\n        if (!response || !response.ok) {\n            throw Error(response.status);\n        }\n\n        return  await response.json();\n    } catch (e) {\n        alert(e.message);\n        console.error(e.message);\n    }\n}\n\nconst API = {\n    GET: async ({ path }) => await useFetch({ path, method: 'GET' }),\n\n    POST: async ({ path, content }) => await useFetch({ path, method: 'POST', content }),\n\n    PUT: async ({ path, content }) => await useFetch({ path, method: 'PUT', content }),\n    \n    DELETE: async ({ path }) => await useFetch({ path, method: 'DELETE' }),\n}\n\nexport default API;\n","import API from \"./api.js\";\n\nconst useApi = async ({ method, content = '', id = '' }) => {\n\n    const makeParam = () => {\n        switch (method) {\n            case 'GET':\n                if (Boolean(id)) return { path: `/${id}` };\n                return { path: '' };\n            case 'POST':\n                return { path: '', content };\n            case 'PUT':\n                return { path: `/${id}`, content };\n            case 'DELETE':\n                return { path: `/${id}` };\n            default:\n                throw new Error('잘못된 method 입니다.');\n        }\n    }\n\n    try {\n        const response = await API[method](makeParam());\n        return response;\n    } catch (e) {\n        alert(e.message);\n        console.error(e.message);\n    }\n};\n\nconst LIST_API = {\n    getAllDocuments: async () => await useApi({ method: 'GET' }),\n\n    getOneDocument: async ({ id }) => await useApi({ method: 'GET', id }),\n\n    createDocument: async ({ content }) => await useApi({ method: 'POST', content }),\n\n    editDocument: async ({ id, content }) => await useApi({ method: 'PUT', id, content }),\n\n    deleteDocument: async ({ id }) => await useApi({ method: 'DELETE', id }),\n}\n\nexport default LIST_API;\n","import { SideBar, DocumentPage } from './pages/index.js';\nimport LIST_API from './api/documentApi.js';\nimport { $, removeDocument } from './util/index.js';\nimport { push } from './router.js';\nclass App {\n    constructor({ $target, initialState }) {\n        this.openState = [];\n        this.$target = $target; \n\n        this.sideBar = new SideBar({\n            $target: this.$target,\n            documents: initialState,\n            onClickDocument: this.onClickDocument.bind(this),\n            onAddDocument: this.onAddDocument.bind(this),\n            onDeleteDocument: this.onDeleteDocument.bind(this),\n        });\n\n        this.documentPage = new DocumentPage({\n            $target: this.$target,\n            onGetOneDocument: this.onGetOneDocument.bind(this),\n            onEditDocument: this.onEditDocument.bind(this),\n        });\n    }\n\n    async onGetAllDocument() {\n        return await LIST_API.getAllDocuments();\n    } \n\n    async onGetOneDocument({ docId }) { \n        return await LIST_API.getOneDocument({ id: docId });\n    }\n\n    async onClickDocument({ docId }) {\n        await LIST_API.getOneDocument({ id: docId });\n\n        if (this.openState.includes(docId)) {\n            const idx = this.openState.indexOf(docId);\n\n            this.openState.splice(idx, 1);\n        } else {\n            this.openState.push(docId);\n        }\n\n        push({ nextUrl: `/documents/${docId}` });\n    }\n\n    async onAddDocument({ docId }) {\n        const doc = await LIST_API.createDocument({ content: { title: \"\", parent: docId } });\n        const docs = await this.onGetAllDocument();\n\n        this.sideBar.setState({ nextState: docs, openState: this.openState });\n        push({ nextUrl: `/documents/${doc.id}` });\n    }\n\n    async onDeleteDocument({ docId }) { \n        await LIST_API.deleteDocument({ id: docId });\n        const docs = await this.onGetAllDocument(); \n\n        this.sideBar.setState({ nextState: docs, openState: this.openState });\n    }\n\n    async onEditDocument({ docId, content }) {\n        const doc = await LIST_API.editDocument({ id: docId, content });\n        const $doc = $({selector: `[data-index=\"${docId}\"] > span`});\n\n        $doc.innerText = doc.title;\n        removeDocument(`document-${docId}`);\n    }\n\n    render() {\n        this.sideBar.render();\n        this.documentPage.render();\n    }\n}\n\nexport default App;\n","import App from './App.js';\nimport LIST_API from './api/documentApi.js';\nimport { $ } from './util/index.js';\n\nfunction Main() {\n\n    this.init = async () => {\n\n        try {\n            const $main = $({ selector: 'main' });\n\n            const app = new App({\n                $target: $main,\n                initialState: await LIST_API.getAllDocuments(),\n            });\n\n            app.render();\n\n        } catch (e) {\n            alert(e.message);\n            console.error(e.message);\n        }\n    }\n\n};\n\nconst main = new Main();\nmain.init();\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$8cd17f66233e1f9b$exports","URL","resolve","import","meta","url","toString","$","selector","document","querySelector","createDOMElement","tagName","attrs","element","createElement","forEach","attr","value","setAttribute","textContent","storage","window","localStorage","getDocument","key","storedValue","getItem","title","content","e","alert","message","console","error","setDocument","setItem","stringify","removeDocument","removeItem","debounce","func","wait","timerId","args","clearTimeout","setTimeout","initRouter","router","addEventListener","detail","nextUrl","history","pushState","push","dispatchEvent","CustomEvent","DocumentList","$target","onClickDocument","onAddDocument","onDeleteDocument","state","$documentList","makeDocumentTree","documents","margin","includes","String","map","join","generateHTML","this","render","innerHTML","appendChild","setState","nextState","openState","async","target","summary","closest","index","dataset","docId","classList","contains","confirm","rootParent","parentNode","routePath","split","at","Editor","compareStateWithStoredState","storeAtStorageWhileInput","onEditDocument","isRendered","$title","$content","$subDocument","refelectDocumentValue","name","updatedAt","Date","DocumentEdit","editor","storedState","DocumentRoot","documentImg","DocumentAdd","$documentAdd","NotFound","SideBar","$sideBar","documentList","documentAdd","DocumentPage","onGetOneDocument","$documentPage","documentRoot","documentEdit","notFound","pathname","location","documentId","$494d97389b08d61a$exports","useFetch","path","method","options","headers","returnOptions","response","fetch","API_ROOT","ok","status","json","$a30be86220d949d5$export$2e2bcd8739ae039","GET","POST","PUT","DELETE","useApi","API","Boolean","makeParam","$8e05f8ddf5a121ee$export$2e2bcd8739ae039","getAllDocuments","getOneDocument","createDocument","editDocument","deleteDocument","$4c8cda5d2c6d1d8b$export$2e2bcd8739ae039","constructor","initialState","sideBar","bind","documentPage","LIST_API","idx","indexOf","splice","doc","parent","docs","onGetAllDocument","innerText","init","$main","App"],"version":3,"file":"index.572768c6.js.map"}